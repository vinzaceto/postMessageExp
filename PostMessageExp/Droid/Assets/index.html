<html lang="en">
<head>
    <meta charset="utf-8">
    <title>iframe Window</title>
    <style>
        body {
            background-color: #D53C2F;
            color: white;
        }
    </style>
</head>
<body>

  <form id="form">
    <input type="text" placeholder="Enter message" name="message">
    <input type="submit" value="Click to send">
  </form>

  <script>window.addEventListener('message', function(event) {

          var messageToJson = {
              MESSAGE: {
                  MESSAGE_TYPE: "STRING",
                  REQUEST_ACTION: "STRING",
                  FLOW_DATA: {
                      ID_PROCESSO: "STRING",
                      NOME_PROCESSO: "STRING",
                      ESITO: "STRING",
                      CODICE_ESITO: "STRING",
                      TIPOLOGIA_ESITO: "STRING"

                  },
                  TRACKING_ANALYTICS: {
                      LIVELLO2: "STRING",
                      LIVELLO3: "STRING"
                  }
              }
          };

          sendToApp(JSON.stringify(messageToJson));

          alert(`Received ${event.data} from ${event.origin}`);

});

form.onsubmit = function() {
          window.postMessage(this.message.value, '*');
          return false;
};

function sendToApp(messageBody) {
          // this must be used to call the interface to communicate with native side
          MyJSInterface.sendToApp(JSON.stringify(messageBody));
}

function sendToWebviewContainer(json) {
          window.postMessage(json, '*');
}</script>
</body>
</html>
